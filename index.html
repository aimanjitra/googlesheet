<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vital Sign Anomaly Alert</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 350px;
            margin: auto;
            background: #222;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.8);
        }
        .title {
            font-size: 22px;
            font-weight: bold;
        }
        .status {
            font-size: 18px;
            margin: 10px 0;
        }
        .normal { color: lightgreen; }
        .warning { color: orange; font-weight: bold; }
        .danger { color: red; font-weight: bold; }
        .button {
            background: red;
            color: white;
            font-size: 16px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
            display: none;
        }
        .button:hover { background: darkred; }
    </style>
</head>
<body>

    <div class="container">
        <div class="title">‚ù§Ô∏è Vital Sign Anomaly Alert</div>
        <div class="status" id="alertStatus">‚úÖ Normal: No Anomalies</div>
        <div class="status">üíì Heart Rate: <span id="heartRate">72</span> BPM</div>
        <div class="status">ü©∏ Blood Pressure: <span id="bloodPressure">120/80</span> mmHg</div>
        <button class="button" id="alertButton" onclick="acknowledgeAlert()">üö® ALERT Sent</button>
    </div>

    <script>
        let heartRate = 72; 
        let systolicBP = 120;
        let diastolicBP = 80;
        let alertTriggered = false;
        let alertTimeout;

        function updateVitals() {
            if (!alertTriggered) {
                heartRate += Math.floor(Math.random() * 20) - 10;  // Faster fluctuations
                systolicBP += Math.floor(Math.random() * 12) - 6;
                diastolicBP += Math.floor(Math.random() * 6) - 3;

                document.getElementById("heartRate").innerText = heartRate;
                document.getElementById("bloodPressure").innerText = `${systolicBP}/${diastolicBP}`;

                if (heartRate < 50 || heartRate > 120 || systolicBP < 90 || systolicBP > 150) {
                    triggerAlert();
                } else if (heartRate < 60 || heartRate > 100 || systolicBP < 100 || systolicBP > 140) {
                    showWarning();
                } else {
                    resetToNormal();
                }
            }
            setTimeout(updateVitals, 1000);  // Updates every 1 second
        }

        function showWarning() {
            document.getElementById("alertStatus").innerHTML = "‚ö†Ô∏è Irregular Readings Detected!";
            document.getElementById("alertStatus").className = "status warning";
        }

        function triggerAlert() {
            document.getElementById("alertStatus").innerHTML = "üö® ALERT: Vital Sign Anomaly!";
            document.getElementById("alertStatus").className = "status danger";
            document.getElementById("alertButton").style.display = "block";
            alertTriggered = true;

            // Automatically acknowledge the alert after 5 seconds
            alertTimeout = setTimeout(() => {
                document.getElementById("alertButton").click();
            }, 5000);
        }

        function resetToNormal() {
            document.getElementById("alertStatus").innerHTML = "‚úÖ Normal: No Anomalies";
            document.getElementById("alertStatus").className = "status normal";
            document.getElementById("alertButton").style.display = "none";
            alertTriggered = false;
            clearTimeout(alertTimeout); // Cancel auto-click if vitals return to normal
        }

        function acknowledgeAlert() {
            document.getElementById("alertButton").innerText = "‚úîÔ∏è Alert Acknowledged";
            document.getElementById("alertButton").disabled = true;
        }

        // Start monitoring
        setTimeout(updateVitals, 1000);
    </script>

</body>
</html>
